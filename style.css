:root{
  --bg:#0b0f19;
  --bg-elev:#141827;
  --card:#1a1f30;
  --muted:#aab1c5;
  --text:#e9eefc;
  --accent:#ff5a32;
  --accent-2:#ff764e;
  --header:rgba(18,22,34,0.86);
  --radius:14px;
  --shadow:0 10px 30px rgba(0,0,0,.35);
}

*{box-sizing:border-box}
html,body{height:100%}
html{scroll-behavior:smooth}
body{
  margin:0;
  font-family:'Inter',system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
  color:var(--text);
  background:var(--bg);
}

.container{width:min(1150px,92%);margin:auto}
.block{display:block}

/* Header */
.site-header{
  position:fixed; inset:0 0 auto 0; height:72px;
  background:var(--header);
  backdrop-filter:saturate(140%) blur(10px);
  border-bottom:1px solid rgba(255,255,255,.06);
  z-index:1000;
  transition:background .25s ease, box-shadow .25s ease;
}
.header-inner{display:flex;align-items:center;justify-content:space-between;height:100%}
.brand{font-weight:800;letter-spacing:.2px}
.nav a{
  color:var(--text); text-decoration:none; margin-left:26px;
  font-weight:500; position:relative; transition:color .2s ease;
}
.nav a::after{
  content:''; position:absolute; left:0; right:0; bottom:-10px; height:2px;
  background:transparent; transition:background .25s, transform .25s; transform:scaleX(0);
}
.nav a:hover{color:var(--accent)}
.nav a:hover::after{background:var(--accent); transform:scaleX(1)}

/* Scroll snap */
.snap-y{scroll-snap-type:y proximity;}

/* Sections */
.section{
  position:relative;
  min-height:calc(100vh - 72px);
  padding:120px 0 80px;
  scroll-snap-align:start;
  display:flex; align-items:center;
}

/* HERO */
.hero{
  min-height:calc(100vh - 72px);
  background:radial-gradient(1200px 600px at 70% 20%, #1c243d 0%, transparent 60%),
             radial-gradient(1200px 700px at 20% 90%, #1a2137 0%, transparent 55%),
             linear-gradient(180deg, #0d1222 0%, #0b0f19 100%);
}
.hero-inner{text-align:center}
.hero-title{
  font-size:clamp(36px,6vw,68px);
  line-height:1.05;
  font-weight:800;
  letter-spacing:.4px;
  margin:0 0 20px;
  color:var(--accent);
}
.hero-sub{
  color:#c9d1ea;
  max-width:860px; margin:0 auto 28px; line-height:1.65;
}
.btn{
  --y:0;
  display:inline-flex; align-items:center; justify-content:center;
  height:46px; padding:0 22px; border-radius:10px;
  font-weight:600; text-decoration:none; cursor:pointer;
  transform:translateY(var(--y)); transition:transform .2s ease, filter .2s ease, background .2s ease;
  user-select:none; border:none;
}
.btn:hover{--y:-1.5px; filter:brightness(1.04)}
.btn-primary{
  background:linear-gradient(180deg,var(--accent) 0%, var(--accent-2) 100%);
  color:white; box-shadow:0 10px 22px rgba(255,90,50,.25);
}
.btn-ghost{
  background:#2a3046; color:#d6dcf1; border:1px solid rgba(255,255,255,.08);
}

/* MAP */
.map-section{background:#0c111e}
.map-wrap{position:relative; width:100%}
.leaflet-wrap{
  height:72vh; border-radius:14px; overflow:hidden;
  box-shadow:var(--shadow);
}

/* Prediction info box */
.predict-box{
  position:absolute; top:22px; right:22px; width:340px; max-width:44vw;
  background:linear-gradient(180deg, rgba(26,31,46,0.98), rgba(22,26,38,0.98));
  border:1px solid rgba(255,255,255,.06); border-radius:12px; padding:14px;
  box-shadow:0 18px 40px rgba(0,0,0,.45); z-index:1005; display:flex; gap:10px; flex-direction:column;
}
.predict-box[aria-hidden="true"]{ display:none }
.predict-close{ position:absolute; top:8px; right:8px; background:transparent; border:none; color:var(--text); font-size:20px; cursor:pointer }
.predict-content h4{ margin:0 0 8px; font-size:16px }
.predict-loading{ color:var(--muted); font-size:13px }
.predict-json{ background:rgba(255,255,255,0.03); color:#e7eefb; padding:10px; border-radius:8px; max-height:52vh; overflow:auto; font-size:13px; white-space:pre-wrap }

/* Structured fields inside prediction box */
.predict-head{ display:flex; align-items:center; gap:10px; justify-content:space-between }
.risk-badge{ padding:6px 10px; border-radius:999px; font-weight:700; font-size:13px; color:#08101a; background:#cbd5e1 }
.risk-badge.low{ background:#cfead6; color:#0b3b17 }
.risk-badge.moderate{ background:#fff1c8; color:#5a3f00 }
.risk-badge.high{ background:#ffd1c1; color:#6b1200 }
.risk-badge.very-high{ background:#ffb4b4; color:#500000 }
.risk-badge.extreme{ background:#ff9a9a; color:#3b0000 }

.predict-fields{ margin-top:10px; display:grid; gap:8px }
.predict-row{ display:flex; justify-content:space-between; gap:12px; font-size:13px }
.predict-row .label{ color:var(--muted) }
.predict-row .value{ font-weight:700 }

/* Analyze Threat Button */
.analyze-threat-btn{ width: 100%; font-size: 14px; height: 40px; }

/* Threat Analysis Box */
.threat-box{
  position:absolute; top:22px; left:22px; width:380px; max-width:46vw;
  background:linear-gradient(180deg, rgba(20,25,40,0.98), rgba(16,20,32,0.98));
  border:1px solid rgba(255,90,50,.15); border-radius:12px; padding:14px;
  box-shadow:0 18px 40px rgba(255,90,50,.15); z-index:1004; display:flex; gap:10px; flex-direction:column;
}
.threat-box[aria-hidden="true"]{ display:none }
.threat-close{ position:absolute; top:8px; right:8px; background:transparent; border:none; color:var(--text); font-size:20px; cursor:pointer }
.threat-content h4{ margin:0 0 8px; font-size:16px; color:var(--accent) }
.threat-loading{ color:var(--muted); font-size:13px }

/* Threat analysis structured fields */
.threat-head{ display:flex; align-items:center; gap:10px; justify-content:space-between }
.threat-badge{ padding:6px 10px; border-radius:999px; font-weight:700; font-size:13px; color:#08101a; background:#cbd5e1 }
.threat-badge.low{ background:#cfead6; color:#0b3b17 }
.threat-badge.moderate{ background:#fff1c8; color:#5a3f00 }
.threat-badge.high{ background:#ffd1c1; color:#6b1200 }
.threat-badge.extreme{ background:#ff9a9a; color:#3b0000 }

.threat-fields{ margin-top:10px; display:grid; gap:12px }
.threat-section{ background:rgba(255,255,255,0.02); border-radius:8px; padding:10px; }
.threat-section-title{ font-weight:700; color:var(--accent); margin-bottom:8px; font-size:14px; }
.threat-row{ display:flex; justify-content:space-between; gap:12px; font-size:13px; margin-bottom:4px; }
.threat-row .label{ color:var(--muted) }
.threat-row .value{ font-weight:600; color:var(--text) }
.threat-concern{ color:#ffb366; font-size:13px; margin:4px 0; }

/* Small spinner */
.spinner{ width:18px; height:18px; border-radius:50%; border:2px solid rgba(255,255,255,0.12); border-top-color:var(--accent); animation:spin 1s linear infinite; display:inline-block; vertical-align:middle }
@keyframes spin{ to{ transform:rotate(360deg) } }
.leaflet-control-zoom a{
  background:#12172a; color:#e9eefc; border:1px solid rgba(255,255,255,.08);
}
.leaflet-popup-content, .leaflet-control-attribution{ color:#111 !important; }

/* Activate overlay */
.map-activate{
  position:absolute; inset:0; display:grid; place-items:center;
  background:rgba(8,11,20,.55); backdrop-filter:blur(2px);
  border-radius:14px; transition:opacity .25s ease, visibility .25s ease;
  z-index:1003;
}
.map-activate.hidden{opacity:0; visibility:hidden; pointer-events:none}
.map-activate-card{
  background:rgba(17,22,37,.85);
  border:1px solid rgba(255,255,255,.08);
  color:#dfe6fb; width:min(440px,90%);
  text-align:center; padding:28px 22px; border-radius:14px;
  box-shadow:0 12px 30px rgba(0,0,0,.35);
}
.map-activate-card h3{margin:10px 0 6px}
.map-activate-card p{margin:0; color:#b9c1da}
.overlay-icon{display:grid; place-items:center; color:#fff; margin-bottom:8px}
.icon-32{width:32px; height:32px}

/* Bottom action bar */
.map-actions{
  position:absolute; left:50%; bottom:18px; transform:translateX(-50%);
  display:flex; gap:12px; align-items:center; flex-wrap:wrap;
  z-index:1002;
}
.coords{
  background:#1b2135; color:#cfd6ef; padding:10px 16px; border-radius:12px;
  border:1px solid rgba(255,255,255,.06);
  box-shadow:0 6px 18px rgba(0,0,0,.25);
}

/* Headings & text */
.section-title{
  font-size:clamp(28px,4.5vw,44px); font-weight:800; text-align:center; margin:0 0 28px;
}
.section-sub{
  text-align:center; color:#c4cae1; max-width:820px; margin:0 auto 34px;
}
.accent{color:var(--accent)}

/* Cards */
.grid{display:grid; gap:22px}
.grid-3{grid-template-columns:repeat(3,minmax(0,1fr))}
@media (max-width:980px){.grid-3{grid-template-columns:repeat(2,minmax(0,1fr))}}
@media (max-width:620px){.grid-3{grid-template-columns:1fr}}

.card{
  background:var(--card);
  border:1px solid rgba(255,255,255,.06);
  border-radius:var(--radius);
  padding:22px;
  box-shadow:var(--shadow);
  transition:transform .2s ease, background .2s ease, border-color .2s ease;
}
.card:hover{transform:translateY(-4px); background:#202642; border-color:rgba(255,255,255,.1)}
.card-icon{
  width:42px; height:42px; border-radius:10px; display:grid; place-items:center;
  background:linear-gradient(180deg, var(--accent) 0%, var(--accent-2) 100%);
  color:white; font-size:20px; box-shadow:0 8px 20px rgba(255,90,50,.25);
  margin-bottom:12px;
}
.card-icon svg{width:22px; height:22px; display:block}
.card-title{margin:6px 0 6px}
.card p{color:#c7cee4}

/* Architecture */
.arch{display:grid; grid-template-columns:1.2fr 1fr; gap:34px; align-items:center}
@media (max-width:980px){.arch{grid-template-columns:1fr}}
.arch-media img{
  width:100%; border-radius:16px; box-shadow:var(--shadow);
  border:1px solid rgba(255,255,255,.06); background:#0f1425;
}
.arch-step{background:var(--bg-elev); border:1px solid rgba(255,255,255,.06);
  border-radius:12px; padding:16px 18px; margin-bottom:14px}
.arch-step h4{margin:0 0 6px}
.arch-step p{margin:0; color:#c6cde3}

#home, #map, #why, #architecture, #impact, #performance, #strategy, #roadmap, #research, #contact {
  scroll-margin-top:Â 80px;
}

/* ===== Strategy / Business Model (NEW) ===== */
/* Reuses .grid, .card, .section-title, .section-sub */

/* ===== Roadmap (NEW) ===== */
.road-grid{
  display:grid; grid-template-columns:1fr 40px 1fr; gap:24px; align-items:start;
}
@media (max-width:980px){ .road-grid{ grid-template-columns:1fr; } }

.road-col{ background:transparent; }
.road-phase{ margin:8px 0 4px; font-weight:800; }
.orange{ color:var(--accent); }
.road-sub{ margin:0 0 10px; font-weight:700; }
.road-text{ color:#c7cee4; }

.road-divider{
  position:relative; height:100%;
}
.road-divider::before{
  content:''; position:absolute; left:50%; top:0; bottom:0; width:1px;
  background:rgba(255,255,255,.12); transform:translateX(-50%);
}
.circle-icon{
  position:absolute; top:34px; left:50%; transform:translate(-50%,-50%);
  width:66px; height:66px; border-radius:50%;
  border:2px solid var(--accent); display:grid; place-items:center; color:var(--accent);
  background:rgba(26,31,48,.6);
}
.circle-icon svg{ width:34px; height:34px }

/* Roadmap list */
.road-list{ list-style:none; padding-left:0; margin:10px 0 0; }
.road-list li{ position:relative; padding-left:18px; margin:8px 0; color:#c7cee4; }
.road-list li::before{
  content:''; position:absolute; left:0; top:10px; width:6px; height:6px;
  background:var(--accent); border-radius:2px; transform:rotate(45deg);
}
.road-list span{ color:#fff; font-weight:600; }

/* ...existing styles below remain unchanged... */

/* Contact */
.contact-grid{
  display:grid; grid-template-columns: .9fr 1.3fr; align-items:center; gap:32px;
}
@media (max-width:980px){.contact-grid{grid-template-columns:1fr;}}
.contact-heading h2{
  font-size: clamp(42px, 10vw, 80px);
  line-height:.9; letter-spacing:.5px; color:var(--accent);
}
.contact-card{
  background:var(--bg-elev); border:1px solid rgba(255,255,255,.06);
  border-radius:16px; padding:22px; box-shadow:var(--shadow);
}
.input-row{display:grid; grid-template-columns:1fr 1fr; gap:14px; margin-bottom:14px}
@media (max-width:620px){.input-row{grid-template-columns:1fr}}
input, textarea{
  width:100%; background:#12172a; color:#e9eefc; border:1px solid rgba(255,255,255,.08);
  border-radius:10px; padding:12px 12px; font:inherit; outline:none;
}
input::placeholder, textarea::placeholder{color:#96a0be}
textarea{resize:vertical}

/* Footer */
.footer{
  border-top:1px solid rgba(255,255,255,.06);
  background:#0a0e17; color:#9ea6c4; padding:20px 0; text-align:center;
}

/* Anchor offset */
#home,#map,#why,#architecture,#impact,#performance,#research,#contact{scroll-margin-top:80px}

/* Header elevation on scroll */
.scrolled{box-shadow:0 12px 30px rgba(0,0,0,.35)}

/* Research & Impact spacing tweak */
#impact, #research{ min-height:auto; }
#impact{ padding-bottom:48px; }
#research{ padding-top:48px; }

/* Section Separator */
.section-separator{
  width:82%; max-width:900px; height:1px; margin:0 auto;
  background:rgba(255,255,255,.1);
}

/* ===== Performance ===== */
.performance .perf-tabs{
  display:flex; gap:18px; justify-content:center; margin:10px 0 24px;
  flex-wrap:wrap;
}
.perf-tab.active{
  filter:brightness(1.06);
  box-shadow:0 10px 22px rgba(255,90,50,.25);
}
.perf-pane{ display:none; }
.perf-pane.show{ display:block; }

.perf-card{
  background:var(--card);
  border:1px solid rgba(255,255,255,.06);
  border-radius:16px;
  padding:16px;
  box-shadow:var(--shadow);
  margin-bottom:22px;
}
.perf-card-title{
  margin:4px 10px 12px;
  font-weight:800;
  text-align:center;
}
.perf-grid-2{
  display:grid; grid-template-columns:1fr 1fr; gap:22px;
}
@media (max-width:980px){ .perf-grid-2{ grid-template-columns:1fr; } }

.img-wrap{
  background:#0f1425;
  border:1px solid rgba(255,255,255,.06);
  border-radius:12px; overflow:hidden;
}
.img-wrap img{ width:100%; height:auto; display:block; cursor:zoom-in; }

.perf-caption{
  color:#c4cae1; text-align:center; margin:10px auto 0; max-width:900px;
}

/* Image modal */
.img-modal{
  position:fixed; inset:0; background:rgba(0,0,0,.85);
  display:none; align-items:center; justify-content:center;
  z-index:2000;
}
.img-modal.show{ display:flex; }
.img-modal img{
  max-width:92vw; max-height:90vh; border-radius:10px;
  border:1px solid rgba(255,255,255,.2);
}
.img-modal-close{
  position:fixed; top:18px; right:24px;
  width:44px; height:44px; border-radius:50%;
  border:1px solid rgba(255,255,255,.25);
  background:rgba(30,34,47,.9); color:#fff; font-size:26px; line-height:1;
  display:grid; place-items:center; cursor:pointer;
}
.img-modal-close:hover{ filter:brightness(1.1); }
